(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(e){if(e.ep)return;e.ep=!0;const c=i(e);fetch(e.href,c)}})();const L=document.getElementById("fake-like"),o=document.getElementById("invisible-overlay"),f=document.getElementById("attackOverlay"),u=document.getElementById("attackFrame"),p=document.getElementById("attackOff"),h=document.getElementById("danger"),y=document.getElementById("log"),a=document.getElementById("frameWrap"),d=document.getElementById("attackerCard"),v=document.querySelectorAll(".tab-button"),k=document.querySelectorAll(".tab-panel");v.forEach(t=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-tab");v.forEach(r=>r.classList.remove("active")),k.forEach(r=>r.classList.remove("active")),t.classList.add("active");const i=document.getElementById(n);i&&i.classList.add("active"),n==="demo"?g():(d.classList.remove("hidden"),o.style.pointerEvents="none",a.classList.add("hidden"))})});function s(t){const n=new Date().toLocaleTimeString();y.innerHTML=`[${n}] ${t}<br>`+y.innerHTML}L.addEventListener("click",()=>{u.checked?(s("👤 ユーザーは『いいね！』を押したつもりですが..."),setTimeout(()=>{l("（iframe 内の重ね合わせから）")},300)):s("ユーザーは『いいね！』を押したつもり（見かけのUI）")});function g(){f.checked?(d.classList.remove("hidden"),o.style.pointerEvents="auto",a.classList.add("hidden"),s("🔴 透明オーバーレイ攻撃を有効化")):u.checked?(d.classList.remove("hidden"),o.style.pointerEvents="none",a.classList.remove("hidden"),s("📺 iframe埋め込み攻撃を有効化")):(d.classList.add("hidden"),o.style.pointerEvents="none",a.classList.add("hidden"),s("⚫ 攻撃を無効化：正規UIのみ表示"))}[f,u,p].forEach(t=>{t.addEventListener("change",g)});o.addEventListener("click",()=>{f.checked&&(s("👤 ユーザーは『いいね！』を押したつもりですが..."),setTimeout(()=>{l("（透過オーバーレイ経由）")},300))});h.addEventListener("click",()=>{l("（正規UIから）")});a.addEventListener("click",t=>{const n=t.target;n&&n.getAttribute("data-frame")==="danger"&&l("（iframe 内の重ね合わせから）")});function l(t){s(`⚠ 秘密情報が『削除』されました ${t}`)}o.style.pointerEvents="none";const E=document.getElementById("demo");E&&E.classList.contains("active")&&g();
